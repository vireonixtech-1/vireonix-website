---
import Layout from './Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description: string;
  client: string;
  industry: string;
  services: string[];
  duration: string;
  results: Array<{
    metric: string;
    value: string;
  }>;
  technologies: string[];
  challenge: string;
  solution: string;
}

const {
  title,
  description,
  client,
  industry,
  services,
  duration,
  results,
  technologies,
  challenge,
  solution
} = Astro.props;

// Case Study Schema
const caseStudySchema = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": title,
  "description": description,
  "author": {
    "@type": "Organization",
    "name": "Vireonix Technologies LLC"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Vireonix Technologies LLC",
    "logo": {
      "@type": "ImageObject",
      "url": "https://vireonixtech.com/Untitled design.png"
    }
  }
};

// Breadcrumb Schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://vireonixtech.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Case Studies",
      "item": "https://vireonixtech.com/case-studies"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": client
    }
  ]
};
---

<Layout title={title} description={description}>
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="pt-32 pb-16 bg-gradient-to-br from-dark to-gray-900 text-white">
      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <!-- Breadcrumb -->
        <nav class="flex items-center gap-2 text-sm text-white/60 mb-8">
          <a href="/" class="hover:text-white">Home</a>
          <span>/</span>
          <a href="/case-studies" class="hover:text-white">Case Studies</a>
          <span>/</span>
          <span class="text-white">{client}</span>
        </nav>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <div>
            <div class="flex items-center gap-3 mb-6">
              <span class="px-3 py-1 bg-primary/20 text-primary text-sm font-medium rounded-full">
                {industry}
              </span>
              <span class="text-white/60 text-sm">{duration}</span>
            </div>

            <h1 class="text-4xl md:text-5xl font-montserrat font-extrabold mb-6 leading-tight">
              {title}
            </h1>

            <p class="text-xl text-white/80 mb-8">
              {description}
            </p>

            <div class="flex flex-wrap gap-2">
              {services.map(service => (
                <span class="px-3 py-1 bg-white/10 text-white text-sm rounded-full">
                  {service}
                </span>
              ))}
            </div>
          </div>

          <!-- Results Cards -->
          <div class="grid grid-cols-2 gap-4">
            {results.map(result => (
              <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center">
                <div class="text-4xl font-montserrat font-extrabold text-accent mb-2">
                  {result.value}
                </div>
                <div class="text-white/80 text-sm">{result.metric}</div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Challenge Section -->
    <section class="py-16 bg-white">
      <div class="max-w-4xl mx-auto px-6 lg:px-8">
        <h2 class="text-3xl font-montserrat font-extrabold text-gray-900 mb-6">
          The Challenge
        </h2>
        <p class="text-lg text-gray-600 leading-relaxed">
          {challenge}
        </p>
      </div>
    </section>

    <!-- Solution Section -->
    <section class="py-16 bg-gray-50">
      <div class="max-w-4xl mx-auto px-6 lg:px-8">
        <h2 class="text-3xl font-montserrat font-extrabold text-gray-900 mb-6">
          Our Solution
        </h2>
        <p class="text-lg text-gray-600 leading-relaxed mb-8">
          {solution}
        </p>

        <!-- Additional Content Slot -->
        <div class="prose prose-lg max-w-none">
          <slot />
        </div>
      </div>
    </section>

    <!-- Technologies Used -->
    <section class="py-16 bg-white">
      <div class="max-w-4xl mx-auto px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Technologies Used</h2>
        <div class="flex flex-wrap gap-3">
          {technologies.map(tech => (
            <span class="px-4 py-2 bg-gray-100 text-gray-800 rounded-full font-medium">
              {tech}
            </span>
          ))}
        </div>
      </div>
    </section>

    <!-- Results Summary -->
    <section class="py-16 bg-gradient-to-br from-primary to-accent text-white">
      <div class="max-w-4xl mx-auto px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-montserrat font-extrabold mb-8">
          Results at a Glance
        </h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
          {results.map(result => (
            <div>
              <div class="text-4xl md:text-5xl font-montserrat font-extrabold mb-2">
                {result.value}
              </div>
              <div class="text-white/80">{result.metric}</div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gray-50">
      <div class="max-w-4xl mx-auto px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          Ready to Achieve Similar Results?
        </h2>
        <p class="text-lg text-gray-600 mb-8">
          Let's discuss how we can help transform your business with technology.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/#contact" class="bg-button-gradient text-white px-8 py-4 rounded-full font-semibold text-lg hover:shadow-lg hover:scale-105 transition-all duration-300 inline-flex items-center justify-center gap-2">
            Start Your Project
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
          <a href="/case-studies" class="bg-white border border-gray-200 text-gray-800 px-8 py-4 rounded-full font-semibold text-lg hover:shadow-lg transition-all duration-300">
            View More Case Studies
          </a>
        </div>
      </div>
    </section>
  </main>
  <Footer />

  <script type="application/ld+json" set:html={JSON.stringify(caseStudySchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
</Layout>
